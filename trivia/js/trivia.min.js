(function(e){var b="",i=[],h=0;e("#start").click(function(){n()});function n(){var r=0;j();f(r)}function j(){b='<div class="loader"></div>';e("#question").html(b);e("#answer").html("")}function f(s){var r=e.getJSON("../trivia/questions.php").done(function(){i=JSON.parse(r.responseJSON);c(s)})}function c(r){m(r);l(r)}function m(r){b='<h3 class="text-center">Question #'+(r+1)+'</h3><p class="text-center">'+i.results[r].question+"</p>"}function l(t){var s,u,r;s=i.results[t].incorrect_answers;s.push(i.results[t].correct_answer);s.sort();u=s.length;b+="<form><fieldset>";for(r=0;r<u;r++){b+='<input type="button" class="choice btn btn-block" value="'+s[r]+'"/><br/>'}b+="</fieldset></form>";e("#question").html(b);e(".choice").hover(function(){e(this).addClass("btn-info")},function(){e(this).removeClass("btn-info")});e(".choice").click(function(){var q=e(this).val();e(".choice").attr("disabled",true);p(q,t)})}function p(v,u){var t=he.decode(i.results[u].correct_answer),s=false,r="";if(v==t){s=true;h++}a(t,v,s);r='<div class="panel ';if(s){r+='panel-success"><div class="panel-heading"><h3 class="panel-title">You got it right!</h3></div>'}else{r+='panel-danger"><div class="panel-heading"><h3 class="panel-title">You got it wrong.</h3></div><div class="panel-body">The correct answer was "'+t+'."</div>'}r+='</div><button id="next" class="btn btn-primary pull-right">Next <span class="glyphicon glyphicon-step-forward" aria-hidden="true"></span></button>';e("#answer").html(r);e("#next").click(function(){g(u)})}function g(s){var r=i.results.length-1;if(s<r){s++;c(s)}else{d(h,s)}e("#answer").html("")}function d(r,s){var t=Math.round((r/(s+1))*100);o(t)}function o(q){b='<h3 class="text-center">';if(q==100){b+='Congratulations!</h3><p class="text-center">You got a perfect score.</p>'}else{if(q>=80){b+='Great job!</h3><p class="text-center">You got a '+q+"%.</p>"}else{b+='Game over!</h3><p class="text-center">You got a '+q+"%.</p>"}}e("#question").html(b);q=0;h=0}function a(u,t,r){var s='input[value="'+u+'"]';e(s).removeClass("btn-info").addClass("btn-success");if(!r){var q='input[value="'+t+'"]';e(q).removeClass("btn-info").addClass("btn-danger")}}var k=new Date().getFullYear();e("#year").html("2016-"+k)}(jQuery));