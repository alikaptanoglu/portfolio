(function(e){var b="",i=[],h=0;e("#start").click(function(){m()});function m(){var p=0;j();f(p)}function j(){b='<div class="loader"></div>';e("#question").html(b);e("#answer").html("")}function f(r){var p=e.getJSON("../trivia/questions.php").done(function(){i=JSON.parse(p.responseJSON);c(r)})}function c(p){l(p);k(p)}function l(p){b='<h3 class="text-center">Question #'+(p+1)+'</h3><p class="text-center">'+i.results[p].question+"</p>"}function k(s){var r,t,p;r=i.results[s].incorrect_answers;r.push(i.results[s].correct_answer);r.sort();t=r.length;b+="<form><fieldset>";for(p=0;p<t;p++){b+='<input type="button" class="choice btn btn-block" value="'+r[p]+'"/><br/>'}b+="</fieldset></form>";e("#question").html(b);e(".choice").hover(function(){e(this).addClass("btn-info")},function(){e(this).removeClass("btn-info")});e(".choice").click(function(){var q=e(this).val();e(".choice").attr("disabled",true);o(q,s)})}function o(u,t){var s=he.decode(i.results[t].correct_answer),r=false,p="";if(u==s){r=true;h++}a(s,u,r);p='<div class="panel ';if(r){p+='panel-success"><div class="panel-heading"><h3 class="panel-title">You got it right!</h3></div>'}else{p+='panel-danger"><div class="panel-heading"><h3 class="panel-title">You got it wrong.</h3></div><div class="panel-body">The correct answer was "'+s+'."</div>'}p+='</div><button id="next" class="btn btn-primary pull-right">Next <span class="glyphicon glyphicon-step-forward" aria-hidden="true"></span></button>';e("#answer").html(p);e("#next").click(function(){g(t)})}function g(r){var p=i.results.length-1;if(r<p){r++;c(r)}else{d(h,r)}e("#answer").html("")}function d(p,r){var s=Math.round((p/(r+1))*100);n(s)}function n(p){b='<h3 class="text-center">';if(p==100){b+='Congratulations!</h3><p class="text-center">You got a perfect score.</p>'}else{if(p>=80){b+='Great job!</h3><p class="text-center">You got a '+p+"%.</p>"}else{b+='Game over!</h3><p class="text-center">You got a '+p+"%.</p>"}}e("#question").html(b);p=0;h=0}function a(t,s,q){var r='input[value="'+t+'"]';e(r).removeClass("btn-info").addClass("btn-success");if(!q){var p='input[value="'+s+'"]';e(p).removeClass("btn-info").addClass("btn-danger")}}}(jQuery));